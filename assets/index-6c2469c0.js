(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const x=globalThis,he=x,Ut=x.CSSStyleSheet,y=x.document,de=x.DocumentFragment,W=x.Object,on=x.Promise,O=x.Symbol,rn=x.queueMicrotask,pe=W.assign,_t=W.entries,Mt=W.freeze,cn=W.fromEntries,ln=W.groupBy,U=Array.isArray,rt=Array.from,un=O.iterator,an=JSON.stringify,Pt=x.history,N=x.location,me=N.origin,fn=t=>new on(t),hn=(t,e)=>t.then(e).catch(e),dn=(t,e,n)=>t.setAttribute(e,n),pn=(t,e)=>t.removeAttribute(e),Tt=t=>t.isConnected,Yt=()=>y.activeElement,Zt=y.documentElement,mn=t=>{for(const e of t)e()},tt=t=>y[t].bind(y),ge=tt("createElement"),gn=tt("createElementNS"),Rt=tt("createTextNode");tt("importNode");tt("createTreeWalker");const it=W.create.bind(null,null),ct=t=>t.length===1?t[0]:t,B=(t,e=Ht)=>t.bind(null,e()),be=t=>{const e=t.getRootNode(),{nodeType:n}=e;return n===11||n===9?e:t.ownerDocument};function M(t){for(;typeof t=="function";)t=t();return t}const bn=t=>t,S=t=>typeof t=="function",wn=t=>K(t)&&"values"in t,j=t=>t==null,K=t=>t!==null&&typeof t=="object",we=t=>typeof t=="string",yn=t=>typeof t=="boolean",ye=()=>{},_=Mt(it()),Se=t=>t===void 0||M(t),H=(t,e)=>t.querySelector(e);function Ft(t,e){const n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function ve(t,e,n){for(;t;){if(n(t))return!0;t=t[e]}}class xe{constructor(e){const n=new e,s=n.get.bind(n),o=n.set.bind(n),r=n.has.bind(n);this.get=(i,c=void 0)=>{const a=s(i);if(a!==void 0)return a;if(c!==void 0)return c=c(i),o(i,c),c},this.set=o,this.has=r,this.delete=n.delete.bind(n)}*[O.iterator](){yield this.get,yield this.set,yield this.has,yield this.delete}}const $e=()=>new xe(WeakMap),Ht=()=>new xe(Map),Ce=(t,e)=>t.classList.add(e),Sn=(t,e)=>t.classList.remove(e),Le=t=>t.adoptedStyleSheets,wt=(t,e)=>Le(t).push(e),vn=(t,e)=>Ft(Le(t),e);function te(t,e=[]){for(const n of e)n&&(n instanceof Ut?wt(t,n):xn(t,n))}const xn=B((t,e,n)=>{t.get(n,s=>s.startsWith("http")?fetch(s).then(o=>o.text()).then(o=>lt(o)):fn(o=>o(lt(s)))).then(s=>wt(e,s))}),$n=(t,...e)=>lt(String.raw({raw:t},...e)),lt=B((t,e)=>t.get(e,n=>{const s=new Ut;return s.replace(n),s})),Cn=(t,e,n={bubbles:!0,cancelable:!0,composed:!0})=>t.dispatchEvent(new CustomEvent(e,n)),Ln=t=>t.preventDefault(),Ee=O(),En=O(),ke=O(),Ae=O(),nt="http://www.w3.org/",V={__proto__:null,svg:nt+"2000/svg",math:nt+"1998/Math/MathML",html:nt+"1999/xhtml",xlink:nt+"1999/xlink"},X=0,R=1,ut=2;let u,l,w=null,C=null,et=0;class Ne{owner;owned;cleanups;context;constructor(e,n){this.owner=e,this.context=e?.context,n&&pe(this,n)}dispose(){let e;const{owned:n,cleanups:s}=this;if(n){for(e=n.length-1;e>=0;e--)n[e].dispose();n.length=0}if(s){for(e=s.length-1;e>=0;e--)s[e]();s.length=0}}}class Vt extends Ne{state=R;updatedAt=0;fn;sources;sourceSlots;constructor(e,n,s){super(e,s),this.fn=n,e&&(e.owned?e.owned.push(this):e.owned=[this])}update(){this.dispose();const e=et,n=u,s=l;l=u=this;try{this.fn()}catch(o){throw this.updatedAt=e+1,o}finally{u=n,l=s}this.updatedAt<=e&&(this.updatedAt=e)}dispose(){const{sources:e,sourceSlots:n}=this;if(e){let s,o,r,i,c;for(;e.length;)s=e.pop(),o=s.observers,r=n.pop(),o&&o.length&&(i=o.pop(),c=s.observerSlots.pop(),r<o.length&&(i.sourceSlots[c]=r,o[r]=i,s.observerSlots[r]=c))}super.dispose(),this.state=X}}class kn extends Vt{user=!0;constructor(e,n,s){super(e,n,s),C?C.push(this):Pe(()=>this.update())}}class An extends Vt{constructor(e,n,s){super(e,n,s),Pe(()=>this.update())}}class Nn extends Vt{state=R;pure=!0;value;observers;observerSlots;constructor(e,n,s){return super(e,n,s),Te(this.read.bind(this))}read(){if(this.state)if(this.state===R)this.update();else{const e=w;w=null,I(()=>dt(this)),w=e}if(l){const e=this.observers?this.observers.length:0;l.sources?(l.sources.push(this),l.sourceSlots.push(e)):(l.sources=[this],l.sourceSlots=[e]),this.observers?(this.observers.push(l),this.observerSlots.push(l.sources.length-1)):(this.observers=[l],this.observerSlots=[l.sources.length-1])}return this.value}write(e){(this.equals===!1||!this.equals(this.value,e))&&(this.value=e,this.observers&&this.observers.length&&I(()=>{for(let n=0,s;n<this.observers.length;n++)s=this.observers[n],s.state===X&&(s.pure?w.push(s):C.push(s),s.observers&&zt(s)),s.state=R}))}equals(e,n){return e===n}update(){this.dispose();let e;const n=et,s=u,o=l;l=u=this;try{e=this.fn()}catch(r){throw this.state=R,this.owned&&(this.owned.forEach(i=>i.dispose()),this.owned.length=0),this.updatedAt=n+1,r}finally{u=s,l=o}this.updatedAt<=n&&(this.updatedAt!==0?this.write(e):this.value=e,this.updatedAt=n)}}class Mn{value;observers;observerSlots;constructor(e,n){this.value=e,n&&(pe(this,n),this.save&&(this.prev=e)),this.read=Te(this.read.bind(this)),this.write=this.write.bind(this),this.update=this.update.bind(this)}read(){if(l){const e=this.observers?this.observers.length:0;l.sources?(l.sources.push(this),l.sourceSlots.push(e)):(l.sources=[this],l.sourceSlots=[e]),this.observers?(this.observers.push(l),this.observerSlots.push(l.sources.length-1)):(this.observers=[l],this.observerSlots=[l.sources.length-1])}return this.value}write(e){return this.equals===!1||!this.equals(this.value,e)?(this.save&&(this.prev=this.value),this.value=e,this.observers&&this.observers.length&&I(()=>{for(let n=0,s;n<this.observers.length;n++)s=this.observers[n],s.state===X&&(s.pure?w.push(s):C.push(s),s.observers&&zt(s)),s.state=R}),!0):!1}update(e){return S(e)&&(e=e(this.value)),this.write(e)}equals(e,n){return e===n}*[O.iterator](){yield this.read,yield this.write,yield this.update}}function Me(t,e=void 0){const n=u,s=l,o=new Ne(u,e);u=o,l=void 0;try{return I(()=>t(o.dispose.bind(o)),!0)}finally{u=n,l=s}}function yt(t,e=void 0){return new Mn(t,e)}function at(t,e=void 0){new kn(u,t,e)}function Pn(t,e=void 0){return new An(u,t,e)}function f(t,e=void 0){return new Nn(u,t,e)}const Pe=I;function Tn(t,e){const n=u,s=l;u=t,l=void 0;try{return I(e,!0)}catch(o){throw o}finally{u=n,l=s}}function ft(t){if(l===void 0)return t();const e=l;l=void 0;try{return t()}finally{l=e}}function L(t){return u&&(u.cleanups?u.cleanups.push(t):u.cleanups=[t]),t}function ht(t){switch(t.state){case X:return;case ut:return dt(t)}const e=[];do t.state&&e.push(t),t=t.owner;while(t&&t.updatedAt<et);for(let n=e.length-1,s;n>=0;n--)switch(t=e[n],t.state){case R:{t.update();break}case ut:{s=w,w=null,I(()=>dt(t,e[0])),w=s;break}}}function I(t,e=!1){if(w)return t();let n=!1;e||(w=[]),C?n=!0:C=[],et++;try{const s=t();if(w&&(Rn(w),w=null),!n){const o=C;C=null,o.length&&I(()=>In(o))}return s}catch(s){throw n||(C=null),w=null,s}}function Rn(t){for(let e=0;e<t.length;e++)ht(t[e])}function In(t){let e,n,s=0;for(e=0;e<t.length;e++)n=t[e],n.user?t[s++]=n:ht(n);for(e=0;e<s;e++)ht(t[e])}function dt(t,e){t.state=X;for(let n=0,s;n<t.sources.length;n++)if(s=t.sources[n],s.sources)switch(s.state){case R:{s!==e&&s.updatedAt<et&&ht(s);break}case ut:{dt(s,e);break}}}function zt(t){for(let e=0,n;e<t.observers.length;e++)n=t.observers[e],n.state===X&&(n.state=ut,n.pure?w.push(n):C.push(n),n.observers&&zt(n))}function On(t=void 0){const e=O();return qn.bind(null,e,t)}function qn(t,e,n,s){if(n===void 0)return u?.context&&u.context[t]!==void 0?u.context[t]:e;{let o;return Pn(()=>{u.context={...u.context,[t]:n},o=ft(s)}),o}}const pt=t=>{const e=u;return(...n)=>t&&Tn(e,()=>t(...n))},mt=t=>S(t)&&ke in t;function Te(t){return t[ke]=void 0,t}const T=(t,e)=>S(t)?at(()=>e(M(t))):e(t);function Dn(t,e){if(S(t)){let n;at(()=>{const s=M(t);e(s,n),n=s})}else e(t)}function Un(t,e,n){const s=new Map,o=new Map;let r=0,i=[],c=[];function a(){for(let q=0;q<c.length;q++)c[q].dispose(!0);s.clear(),o.clear(),i.length=0,c.length=0}L(a);class p{constructor(D,k,$t,Ct){this.runId=-1,this.item=D,this.index=k,this.isDupe=Ct,this.disposer=void 0,this.nodes=Me(h=>(this.disposer=h,$t(D,k)))}get begin(){return this.nodes[0]}get end(){return this.nodes[this.nodes.length-1]}dispose(D){if(D===void 0)if(!this.isDupe)s.delete(this.item);else{const k=o.get(this.item);k.length===1?o.delete(this.item):Ft(k,this)}this.disposer()}}function $(q){const D=q?(h,m)=>q(e(h,m),m):e,k=M(t)||[],$t=wn(k)?k.entries():_t(k);r++,i=[];const Ct=c.length;for(const[h,m]of $t){let b=Ct?s.get(m):void 0;if(b===void 0)b=new p(m,h,D,!1),s.set(m,b);else if(b.runId===r){let d=o.get(m);d||(d=[],o.set(m,d));for(let g=0;g<d.length;g++)if(d[g].runId!==r){b=d[g];break}b.runId===r&&(b=new p(m,h,D,!0),d.push(b))}b.runId=r,b.index=h,i.push(b)}if(i.length===0)a();else for(let h=0;h<c.length;h++)c[h].runId!==r&&c[h].dispose();if(n&&i.length>1&&c.length){const{a:h,b:m}=ln(i,(d,g)=>i[g]===c[g]?"a":"b");let b=m?.length;if(h&&m&&h.length&&m.length&&m.length<h.length&&m.every(d=>c.includes(d))){for(const d of m)for(const g of h)if(d.index===g.index-1){g.begin.before(...Et(d)),b--;break}else if(d.index===g.index+1){g.end.after(...Et(d)),b--;break}}if(b){let d=i[i.length-1];for(let g=i.length-1;g>0;g--){const Lt=i[g-1];d.begin.previousSibling!==Lt.end&&d.begin.before(...Et(Lt)),d=Lt}}}return c=i,i.map(h=>h.nodes)}return $[Ae]=void 0,$}function Et(t){const{begin:e,end:n}=t,s=[e];let o=e;for(;o!==n;)o=o.nextSibling,s.push(o);return s}function It(t){const e=S(t)?f(t):()=>t;return f(()=>Ot(e()))}function Ot(t){if(S(t))return Ot(t());if(U(t)){const e=[];for(let n of t)n=Ot(n),U(n)?e.push(...n):e.push(n);return e}return t}const Re=t=>S(t)&&Ee in t,_n=t=>!mt(t)&&(S(t)||!U(t)&&K(t)&&!t.then);function Wt(t){t=U(t)?ct(t):t;const e=U(t)?t.map(ee):ee(t);return U(t)?A((...n)=>e.map(s=>s(n))):A((...n)=>e(n))}const ee=t=>S(t)?mt(t)?e=>{const n=t();return S(n)?mt(n)?n():ft(()=>n(...e)):n}:e=>ft(()=>t(...e)):()=>t;function A(t){return t[Ee]=void 0,t}function gt(t,e,n){return t.addEventListener(e,n,!S(n)&&n),L(()=>Fn(t,e,n))}function Fn(t,e,n){return t.removeEventListener(e,n,!S(n)&&n),()=>gt(t,e,n)}const ne=B((t,e)=>t.get(e,n=>"handleEvent"in n?{...n,handleEvent:pt(n.handleEvent.bind(n))}:pt(n)),$e);let qt,Bt;function Ie(){Bt=[[],[],[],[],[],[]],qt=!1}Ie();function G(t,e){qt||(qt=!0,rn(Hn)),Bt[t].push(pt(e))}function Hn(){const t=Bt;Ie();for(const e of t)e.length&&mn(e)}const Oe=t=>G(0,t),Vn=t=>G(1,t),zn=t=>G(2,t),Wn=t=>G(3,t),Bn=t=>G(4,t),jn=t=>G(5,t),Kn=(t,e,n,s,o,r)=>gt(t,o,n),se=B((t,e)=>t.get(e,n=>n.startsWith("on")&&n.toLowerCase()in he?n.slice(2).toLowerCase():null)),jt=Ht(),Kt=Ht(),J=(t,e,n)=>{bt(jt,t,e,n)},F=(t,e,n)=>{bt(Kt,t,e,n)},St=(t,e,n)=>{bt(jt,t,e,n),bt(Kt,t,e,n)},bt=(t,e,n,s=!0)=>{t.set(e,s?(...o)=>Vn(()=>n(...o)):n)},Xn=(t,e,n,s,o,r)=>qe(t,o,n),qe=(t,e,n)=>T(n,s=>z(t,e,s));function z(t,e,n){j(n)?t[e]=null:t[e]=n}const Gn=(t,e,n,s,o,r)=>Jn(t,o,n),Jn=(t,e,n,s)=>T(n,o=>De(t,e,o,s));function De(t,e,n,s){j(n)?s&&V[s]?t.removeAttributeNS(V[s],e):t.removeAttribute(e):s&&V[s]?t.setAttributeNS(V[s],e,n):t.setAttribute(e,n)}const oe=(t,e,n,s)=>T(n,o=>Qn(t,e,o,s)),Qn=(t,e,n,s)=>{K(n)||yn(n)&&!e.includes("-")?z(t,e,n):(De(t,e,n,s),j(n)&&z(t,e,n))},Yn=(t,e,n,s,o,r)=>Zn(t,o,n),Zn=(t,e,n)=>T(n,s=>ts(t,e,s)),ts=(t,e,n)=>n?t.setAttribute(e,""):t.removeAttribute(e),es=(t,e,n,s)=>vt(t.style,n),ns=(t,e,n,s,o,r)=>vt(t.style,K(n)?n:{[o]:n}),ss=(t,e,n,s,o,r)=>vt(t.style,{["--"+o]:n});function vt(t,e){if(K(e)){let s;for(s in e)os(t,s,e[s]);return}const n=typeof e;if(n==="string"){t.cssText=e;return}if(n==="function"){T(e,s=>vt(t,M(s)));return}}const os=(t,e,n)=>T(n,s=>rs(t,e,s)),rs=(t,e,n)=>j(n)?t.removeProperty(e):t.setProperty(e,n),is=(t,e,n,s)=>we(n)?t.setAttribute("class",n):Xt(t,n),cs=(t,e,n,s,o,r)=>S(n)?Ue(t,o,n):Xt(t,n);function Xt(t,e){switch(typeof e){case"string":{_e(t,e,!0);break}case"object":{let n;for(n in e)Ue(t,n,e[n]);break}case"function":{T(e,n=>Xt(t,n));break}}}const Ue=(t,e,n)=>Dn(n,(s,o)=>{!s&&!o||_e(t,e,s)}),_e=(t,e,n)=>n?Ce(t,...e.trim().split(/\s+/)):Sn(t,e),ls=()=>crypto.getRandomValues(new BigUint64Array(1))[0].toString(36),us=(t,e,n,s)=>as(t,n),as=B((t,e,n)=>{Ce(e,t.get(n,s=>{const o="c"+ls();return wt(be(e),lt(s.replace(/class/g,"."+o))),o}))}),fs=(t,e,n,s)=>zn(()=>n(t)),hs=(t,e,n,s)=>Wn(()=>n(t)),ds=(t,e,n,s)=>L(()=>n(t));F("prop",Xn,!1);F("attr",Gn,!1);F("bool",Yn,!1);F("on",Kn,!1);F("var",ss,!1);for(const t of["value","textContent","innerText","innerHTML"])J(t,qe,!1);J("__dev",ye,!1);J("xmlns",ye,!1);St("css",us,!1);St("onMount",hs,!1);St("onUnmount",ds,!1);St("ref",fs,!1);J("style",es,!1);F("style",ns,!1);J("class",is,!1);F("class",cs,!1);function ps(t,e,n){for(const s in e)Fe(t,s,e[s],e,n);return t}function Fe(t,e,n,s,o){if(K(n)&&"then"in n){n.then(pt(c=>Fe(t,e,M(c),s,o)));return}let r=jt.get(e);if(r){r(t,e,n,s);return}let i=se(e);if(i){gt(t,i,ne(n));return}if(e.includes(":")){const[c,a]=e.split(":");if(r=Kt.get(c),r){r(t,e,n,s,a,c);return}if(i=se(c),i){gt(t,i,ne(n));return}re(t,s,o)?z(t,e,n):oe(t,e,n,c);return}re(t,s,o)?z(t,e,n):oe(t,e,n)}const re=(t,e,n)=>n!==void 0?n:"is"in e||t.localName?.includes("-"),kt=Be(),ms=t=>t.children;function P(t,e){if(t===ms)return e.children;Mt(e);const n=He(t);return e===void 0?n:A(s=>n(s?Mt({...e,...s}):e))}function He(t){if(Re(t))return t;switch(typeof t){case"string":return A(e=>bs(t,e));case"function":return En in t?A(e=>gs(t,e)):mt(t)?A(()=>t):A(t);default:return t instanceof Node?A(e=>Ve(t,e)):A(()=>t)}}function gs(t,e){const n=new t;return n.ready&&Bn(()=>n.ready()),n.cleanup&&L(()=>n.cleanup()),n.render(e)}function bs(t,e){const n=e?.xmlns||V[t];return ws(n,s=>Ve(s?gn(s,t):ge(t),e),t)}function ws(t,e,n){const s=kt();return t&&t!==s?kt(t,()=>e(t)):s&&n==="foreignObject"?kt(V.html,()=>e(s)):e(s)}function Ve(t,e){return e&&ps(t,e),t}function v(t,e,n,s=void 0){switch(typeof e){case"string":case"number":return s instanceof Text?(s.nodeValue=e,s):st(t,Rt(e),n);case"function":{if(Re(e))return v(t,ft(e),n);let o=[];return t=At(t,void 0,n),Ae in e?(at(()=>{o=Y(o,e(r=>{const i=At(t,void 0,!0),c=At(t,void 0,!0);return[i,v(c,r,!0),c]}))}),L(()=>{Y(o),t.remove()}),[o,t]):(at(()=>{o=Y(o,[v(t,e(),!0,o[0])])}),L(()=>{Y(o),t.remove()}),[o,t])}case"object":{if(U(e))return e.length===1?v(t,e[0],n):e.map(o=>v(t,o,n));if(e instanceof Node)return e instanceof de?v(t,rt(e.childNodes),n):st(t,e,n);if(e===null)return;if("then"in e){const[o,r]=yt(void 0);return hn(e,c=>Tt(t)&&r(c)),v(t,o,n)}if(un in e)return v(t,rt(e.values()),n);if(e instanceof Ut){Oe(()=>{if(Tt(t)){const o=be(t);wt(o,e),L(()=>vn(o,e))}});return}return v(t,"toString"in e?e.toString():an(e),n)}case"undefined":return;default:return st(t,Rt(e.toString()),n)}}J("children",(t,e,n)=>v(t,n),!1);const At=(t,e,n)=>st(t,Rt(""),n),Q=y.head;function st(t,e,n){if(t===Q){const s=e.localName;let o;s==="title"?o=H(Q,"title"):s==="meta"?o=H(Q,'meta[name="'+e.getAttribute("name")+'"]')||H(Q,'meta[property="'+e.getAttribute("property")+'"]'):s==="link"&&e.rel==="canonical"&&(o=H(Q,'link[rel="canonical"]')),o?o.replaceWith(e):t.appendChild(e)}else n?t.before(e):t.appendChild(e);return e}function ys(t,e,n=_){const s=Me(o=>(ze(t,e,n),o));return L(s),s}function ze(t,e=y.body,n=_){n.clear&&e&&(e.textContent="");const s=v(e,_n(t)?He(t):t,n.relative);return L(()=>Y([s].flat(1/0))),s}const Ss=t=>ct(We(t).childNodes);function We(t){const e=new de;return v(e,t),e}function Be(t=void 0){const e=On(t);return e.Provider=n=>e(n.value,()=>Ss(n.children)),e}function Y(t=[],e=[]){e=e.flat(1/0);for(let n=0,s;n<t.length;n++)s=t[n],s&&(e.length===0||!e.includes(s))&&s.remove();return e}const vs=t=>t.replace(/-([a-z0-9])/g,e=>e[1].toUpperCase());function xs(t,e,n){customElements.get(t)===void 0&&customElements.define(t,e,n)}class $s extends HTMLElement{constructor(){super();const e=this.attachShadow({mode:"open"}),n=this.constructor;te(e,n.baseStyleSheets),te(e,n.styleSheets)}query(e){return H(this,e)}set html(e){we(e)?this.shadowRoot.innerHTML=e:this.shadowRoot.replaceChildren(We(P(e||"slot")))}set hidden(e){T(e,n=>{n?dn(this,"hidden",""):pn(this,"hidden")})}emit(e,n){Cn(this,e,n)}hasSlot(e){return this.query(`:scope [slot="${e}"]`)}}function je(t){class e extends $s{static styleSheets=[$n`
				:host {
					display: contents;
				}
			`];set when(o){T(o,r=>this.html=r?"<slot/>":"")}}const n="pota-collapse";return xs(n,e),P(n,{when:t.when,children:t.children})}const Ke=t=>P(t.component,{...t,component:void 0}),Cs=t=>Un(()=>(t.restoreFocus&&Ls(),t.each),Wt(t.children),!0);let Nt;function Ls(){if(!Nt){Nt=!0;const t=Yt(),e=Zt.scrollTop;Oe(()=>{Nt=!1,t&&t!==Yt()&&Tt(t)&&t.focus(),Zt.scrollTop=e})}}function Xe(t){ze(t.children,t.mount)}const Es=t=>P(Xe,{mount:y.head,children:t.children});function ks(t){t.scrollTop=0,t.scrollIntoView(!0)}const As=()=>Gt(N.hash);function Gt(t){if(t)try{const e=H(y,t);if(e)return ks(e),!0}catch{}return!1}function Ns(t){Gt(t)||Ge()}const Ge=()=>he.scrollTo({top:0,behavior:"auto"}),Ms=x.encodeURIComponent;function Ps(t){try{return decodeURIComponent(t)}catch{return t}}const Ts=t=>t[0]==="/"||t[0]==="#"||/^http/.test(t),Rs=t=>/^http/.test(t)&&!(t+"/").startsWith(origin+"/"),Is=t=>!Ts(t),Je=(t,e)=>e?t.replace(/\:([a-z0-9_\-]+)/gi,(n,s)=>e[s]!==void 0?Ms(e[s]):n):t;function Qe(t=_){const[e,n,s]=yt([]);return{base:"",href:()=>"",parent:void 0,show:()=>!1,params:()=>()=>_,scroll:[],addChildren:o=>{s(r=>(r.push(o),[...r]))},removeChildren:o=>{s(r=>(Ft(r,o),[...r]))},noneMatch:f(()=>e().length&&e().every(o=>!o.show())),...t}}const Z=Be(Qe()),[xt,Ye]=yt(N,{equals:!1}),ie=f(()=>xt().pathname),Os=f(()=>xt().search),Ze=f(()=>xt().href),ce=f(()=>Ze().endsWith("#")?"#":xt().hash),tn={href:Ze,pathname:ie,hash:ce,path:f(()=>ie()+ce()),query:f(()=>{const t=Os(),e=it(),n=new URL(me+"/"+t).searchParams;for(const[s,o]of n.entries())e[s]=o;return e}),params:()=>{const t=[];ve(Z(),"parent",n=>{t.push(n.params)});const e=it();for(const n of t)for(const[s,o]of _t(n()()||_))e[s]=o!==void 0?Ps(o):o;return e}};let le=[];async function en(t){const e=[];for(const n of le)if(t.indexOf(n.href)!==0){if(!await n.callback().catch(()=>!1))return!1}else e.push(n);return le=e,!0}async function qs(t,e=_){if(N.href!==t&&await en(t)){const n=()=>Ds(t,e);y.startViewTransition&&N.href.replace(/#.*/,"")!==t.replace(/#.*/,"")?y.startViewTransition(n):n()}}function Ds(t,e){e.replace?Pt.replaceState(null,"",t):Pt.pushState(null,"",t),Ye(N),Se(e.scroll)&&Ns(N.hash)}let ue=!1;function nn(){ue||(ue=!0,y.addEventListener("click",Us),addEventListener("hashchange",ae),addEventListener("popstate",ae))}async function ae(){const t=y.title;y.title=t+" ",y.title=t,await en(N.href)?Ye(N):Pt.pushState(null,"",tn.href())}function Us(t){if(t.defaultPrevented||t.button!==0||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;const e=t.composedPath().find(n=>n instanceof HTMLAnchorElement);!e||!e.href||e.download||e.target||!e.href.startsWith("http")||Rs(e.href)||e.rel&&e.rel.split(/\s/).includes("external")||(Ln(t),qs(e.href,{replace:e.replace}))}function Jt(t){const e=Wt(t.children),n=f(()=>M(t.when)),s=f(()=>!!n()),o=j(t.fallback)?void 0:f(()=>It(t.fallback));return f(()=>s()?e(n):o)}function _s(t){As()||ve(t,"parent",e=>{if(e.scroll){for(const n of e.scroll)if(Gt(n))return!0}})||Ge()}function sn(t){nn();const e=Z(),n=e.base+Je(t.path===void 0?"(|#.*)$":t.path.replace("$","(|#.*)$").replace(/^#/,"/#"),t.params),s=new RegExp("^"+n.replace(/\:([a-z0-9_\-]+)/gi,"(?<$1>[^/#]+)"));let o="";const[r,i]=yt(()=>_),c=f(()=>{const p=tn.path();return s.test(p)?(i(()=>s.exec(p).groups),o===""&&(o=p.replace(p.replace(s,""),""),o=me+(o[0]!=="/"?"/":"")+o),jn(()=>_s(a)),!0):!1}),a=Qe({base:n,href:()=>o,params:r,scroll:t.scroll,parent:e,show:c});return e.addChildren(a),L(()=>e.removeChildren(a)),P(Z.Provider,{value:a,children:P(Ke,{component:t.collapse?je:Jt,when:()=>c()&&Se(t.when),fallback:t.fallback,children:t.children})})}sn.Default=t=>{const e=Z();return P(Jt,{when:e.noneMatch,children:t.children})};function Fs(t){nn();let e=Je(t.href,t.params);const n=Z().href();return e=!Is(e[0])||!n?e:n.includes("/#")?n+e:new URL(e,n).href,P("a",{...t,href:e,params:void 0})}function Hs(t){const e=It(()=>t.children),n=j(t.fallback)?f(()=>{const i=e().find(c=>!("when"in c));return i&&i.children}):f(()=>It(t.fallback)),s=f(()=>e().find(i=>!!M(i.when))),o=f(()=>s()&&M(s().when)),r=f(()=>s()&&Wt(s().children));return f(()=>s()?r()(o):n)}const Vs=bn,zs=cn(_t({RouterA:Fs,Collapse:je,Dynamic:Ke,For:Cs,Head:Es,Match:Vs,Portal:Xe,Router:sn,Show:Jt,Switch:Hs}).map(([t,e])=>[t.toLowerCase(),e])),Dt="pota",fe="<pota></pota>",Ws=B((t,e)=>t.get(e,n=>{const s=ge("template");return s.innerHTML=n.join(fe).replaceAll(`"${fe}"`,`"${Dt}"`).replace(/<(br|hr)\s*\/\s*>/g,"<$1>").replace(/<([a-z-]+)([^/>]*)\/\s*>/gi,"<$1 $2></$1>"),s.content}),$e);function Bs(){function t(e,...n){const s=Ws(e);let o=0;function r(i){if(i.nodeType===1){const c=i.localName;if(c===Dt)return n[o++];const a=it();for(let{name:p,value:$}of i.attributes)$===Dt&&($=n[o++]),p[0]==="."?a["prop:"+vs(p.slice(1))]=$:p[0]==="?"?a["bool:"+p.slice(1)]=$:p[0]==="@"?a["on:"+p.slice(1)]=$:a[p]=$;return i.childNodes.length&&(a.children=ct(rt(i.childNodes).map(r))),P(t.components[c]||c,a)}else return i.cloneNode()}return ct(rt(s.childNodes).map(r))}return t.components={...zs},t.define=e=>{let n;for(n in e)t.components[n.toLowerCase()]=e[n]},t}const E=Bs(),Qt={left:{left:{value:1},right:{inverse:{left:{value:1},right:{value:"x"}}}},right:{inverse:{left:{value:1},right:{left:{value:"x"},right:{inverse:{value:"x"}}}}}},ot=(t,e)=>{t.value===1?t.width=1:t.value==="x"?t.width=e:t.inverse?(ot(t.inverse,e),t.width=1/t.inverse.width,t.rotate=!0):(ot(t.left,e),ot(t.right,e),t.width=t.left.width+t.right.width)};ot(Qt,1.4);console.dir(Qt);const js=300,Ks=({size:t,tree:e,rotated:n})=>{const s=()=>t*js,o=()=>s()*.6,r=()=>n?s():s()*e.width,i=()=>n?s()*e.width:s(),c=()=>n?"#eeb4a2":"#824346",a=()=>`height: ${s()}px; width: ${s()}px; font-size: ${o()}px;`,p=()=>`height: ${r()}px; width: ${i()}px; font-size: ${r()*.6}px; background-color: ${c()};`;return E`
    <Switch fallback="${E`
      <div class='plus-block block' style="${()=>n?"flex-direction:row;":"flex-direction:column;"}">
        <Diagram tree="${e.left}" rotated="${n}" size="${t}" />
        <Diagram tree="${e.right}" rotated="${n}" size="${t}" />
      </div>`}"
    >
    <Match when="${e.value===1}">
      <div class='one-block block' style="${a}"></div>
    </Match>
    <Match when="${e.value==="x"}">
      <div class='x-block block' style="${p}"></div>
    </Match>
    <Match when="${e.inverse}">
      <div class='inverse-block block'>
        <Diagram tree="${e.inverse}" rotated="${!n}" size="${t*e.width}"/>
      </div>
    </Match>
  </Switch>`},Xs=({tree:t})=>E`
    <Switch fallback="${E`
        <mrow>
          <CanonicalExpression tree="${t.left}" />
          <mo>+</mo>
          <CanonicalExpression tree="${t.right}" />
        </mrow>`}"
    >
      <Match when="${t.value===1}">
        <mn>1</mn>
      </Match>
      <Match when="${t.value==="x"}">
        <mi>x</mi>
      </Match>
      <Match when="${t.inverse}">
        <mfrac>
          <mn>1</mn>
          <CanonicalExpression tree="${t.inverse}" />
        </mfrac>
      </Match>
    </Switch>`,Gs=({tree:t})=>(E.define({CanonicalExpression:Xs}),E`
    <math class="equation" display="block">
      <mrow>
        <mi>x</mi>
        <mo>=</mo>
        <CanonicalExpression tree="${t}" />
      </mrow>
    </math>`),Js=({tree:t})=>(E.define({Equation:Gs,Diagram:Ks}),E`
    <div class='proportion-display'>
      <Equation tree="${t}"/>
      <div class='diagram'>
        <Diagram tree="${t}" size="1" rotated="false"/>
      </div>
    </div>
  `);function Qs(){return E.define({Proportions:Js}),E`<Proportions tree="${Qt}" />`}ys(Qs);
