import{parse as Vn}from"https://esm.sh/mathjs";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const Hn=(e,t)=>e===t,ye={equals:Hn};let Ft=Kt;const B=1,Se=2,Vt={owned:null,cleanups:null,context:null,owner:null};var x=null;let Qe=null,jn=null,d=null,y=null,_=null,De=0;function Kn(e,t){const n=d,s=x,r=e.length===0,o=t===void 0?s:t,i=r?Vt:{owned:null,cleanups:null,context:o?o.context:null,owner:o},c=r?e:()=>e(()=>Y(()=>ue(i)));x=i,d=null;try{return de(c,!0)}finally{d=n,x=s}}function ve(e,t){t=t?Object.assign({},ye,t):ye;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),jt(n,r));return[Ht.bind(n),s]}function q(e,t,n){const s=ht(e,t,!1,B);he(s)}function J(e,t,n){Ft=Yn;const s=ht(e,t,!1,B);s.user=!0,_?_.push(s):he(s)}function xe(e,t,n){n=n?Object.assign({},ye,n):ye;const s=ht(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,he(s),Ht.bind(s)}function Y(e){if(d===null)return e();const t=d;d=null;try{return e()}finally{d=t}}function Gn(e){J(()=>Y(e))}function Xn(e){const t=xe(e),n=xe(()=>nt(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function Ht(){if(this.sources&&this.state)if(this.state===B)he(this);else{const e=y;y=null,de(()=>Ce(this),!1),y=e}if(d){const e=this.observers?this.observers.length:0;d.sources?(d.sources.push(this),d.sourceSlots.push(e)):(d.sources=[this],d.sourceSlots=[e]),this.observers?(this.observers.push(d),this.observerSlots.push(d.sources.length-1)):(this.observers=[d],this.observerSlots=[d.sources.length-1])}return this.value}function jt(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&de(()=>{for(let r=0;r<e.observers.length;r+=1){const o=e.observers[r],i=Qe&&Qe.running;i&&Qe.disposed.has(o),(i?!o.tState:!o.state)&&(o.pure?y.push(o):_.push(o),o.observers&&Gt(o)),i||(o.state=B)}if(y.length>1e6)throw y=[],new Error},!1)),t}function he(e){if(!e.fn)return;ue(e);const t=De;Qn(e,e.value,t)}function Qn(e,t,n){let s;const r=x,o=d;d=x=e;try{s=e.fn(t)}catch(i){return e.pure&&(e.state=B,e.owned&&e.owned.forEach(ue),e.owned=null),e.updatedAt=n+1,Xt(i)}finally{d=o,x=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?jt(e,s):e.value=s,e.updatedAt=n)}function ht(e,t,n,s=B,r){const o={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:x,context:x?x.context:null,pure:n};return x===null||x!==Vt&&(x.owned?x.owned.push(o):x.owned=[o]),o}function $e(e){if(e.state===0)return;if(e.state===Se)return Ce(e);if(e.suspense&&Y(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<De);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===B)he(e);else if(e.state===Se){const s=y;y=null,de(()=>Ce(e,t[0]),!1),y=s}}function de(e,t){if(y)return e();let n=!1;t||(y=[]),_?n=!0:_=[],De++;try{const s=e();return Jn(n),s}catch(s){n||(_=null),y=null,Xt(s)}}function Jn(e){if(y&&(Kt(y),y=null),e)return;const t=_;_=null,t.length&&de(()=>Ft(t),!1)}function Kt(e){for(let t=0;t<e.length;t++)$e(e[t])}function Yn(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:$e(s)}for(t=0;t<n;t++)$e(e[t])}function Ce(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const r=s.state;r===B?s!==t&&(!s.updatedAt||s.updatedAt<De)&&$e(s):r===Se&&Ce(s,t)}}}function Gt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Se,n.pure?y.push(n):_.push(n),n.observers&&Gt(n))}}function ue(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const o=r.pop(),i=n.observerSlots.pop();s<r.length&&(o.sourceSlots[i]=s,r[s]=o,n.observerSlots[s]=i)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ue(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ue(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Zn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Xt(e,t=x){throw Zn(e)}function nt(e){if(typeof e=="function"&&!e.length)return nt(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=nt(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function C(e,t){return Y(()=>e(t||{}))}const es=e=>`Stale read from <${e}>.`;function ts(e){let t=!1;const n=(o,i)=>(t?o[1]===i[1]:!o[1]==!i[1])&&o[2]===i[2],s=Xn(()=>e.children),r=xe(()=>{let o=s();Array.isArray(o)||(o=[o]);for(let i=0;i<o.length;i++){const c=o[i].when;if(c)return t=!!o[i].keyed,[i,c,o[i]]}return[-1]},void 0,{equals:n});return xe(()=>{const[o,i,c]=r();if(o<0)return e.fallback;const l=c.children;return typeof l=="function"&&l.length>0?Y(()=>l(t?i:()=>{if(Y(r)[0]!==o)throw es("Match");return c.when})):l},void 0,void 0)}function Je(e){return e}function ns(e,t,n){let s=n.length,r=t.length,o=s,i=0,c=0,l=t[r-1].nextSibling,f=null;for(;i<r||c<o;){if(t[i]===n[c]){i++,c++;continue}for(;t[r-1]===n[o-1];)r--,o--;if(r===i){const h=o<s?c?n[c-1].nextSibling:n[o-c]:l;for(;c<o;)e.insertBefore(n[c++],h)}else if(o===c)for(;i<r;)(!f||!f.has(t[i]))&&t[i].remove(),i++;else if(t[i]===n[o-1]&&n[c]===t[r-1]){const h=t[--r].nextSibling;e.insertBefore(n[c++],t[i++].nextSibling),e.insertBefore(n[--o],h),t[r]=n[o]}else{if(!f){f=new Map;let S=c;for(;S<o;)f.set(n[S],S++)}const h=f.get(t[i]);if(h!=null)if(c<h&&h<o){let S=i,N=1,L;for(;++S<r&&S<o&&!((L=f.get(t[S]))==null||L!==h+N);)N++;if(N>h-c){const ie=t[i];for(;c<h;)e.insertBefore(n[c++],ie)}else e.replaceChild(n[c++],t[i++])}else i++;else t[i++].remove()}}}const At="_$DX_DELEGATE";function ss(e,t,n,s={}){let r;return Kn(o=>{r=o,t===document?e():fe(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{r(),t.textContent=""}}function ge(e,t,n){let s;const r=()=>{const i=document.createElement("template");return i.innerHTML=e,i.content.firstChild},o=()=>(s||(s=r())).cloneNode(!0);return o.cloneNode=o,o}function rs(e,t=window.document){const n=t[At]||(t[At]=new Set);for(let s=0,r=e.length;s<r;s++){const o=e[s];n.has(o)||(n.add(o),t.addEventListener(o,is))}}function os(e,t,n){e.removeAttribute(t)}function Be(e,t,n){if(!t)return n?os(e,"style"):t;const s=e.style;if(typeof t=="string")return s.cssText=t;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),t||(t={});let r,o;for(o in n)t[o]==null&&s.removeProperty(o),delete n[o];for(o in t)r=t[o],r!==n[o]&&(s.setProperty(o,r),n[o]=r);return n}function fe(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return Ee(e,t,s,n);q(r=>Ee(e,t(),r,n),s)}function is(e){let t=e.target;const n=`$$${e.type}`,s=e.target,r=e.currentTarget,o=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),i=()=>{const l=t[n];if(l&&!t.disabled){const f=t[`${n}Data`];if(f!==void 0?l.call(t,f,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},c=()=>{for(;i()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const l=e.composedPath();o(l[0]);for(let f=0;f<l.length-2&&(t=l[f],!!i());f++){if(t._$host){t=t._$host,c();break}if(t.parentNode===r)break}}else c();o(s)}function Ee(e,t,n,s,r){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,i=s!==void 0;if(e=i&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(i){let c=n[0];c&&c.nodeType===3?c.data!==t&&(c.data=t):c=document.createTextNode(t),n=K(e,n,s,c)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=K(e,n,s);else{if(o==="function")return q(()=>{let c=t();for(;typeof c=="function";)c=c();n=Ee(e,c,n,s)}),()=>n;if(Array.isArray(t)){const c=[],l=n&&Array.isArray(n);if(st(c,t,n,r))return q(()=>n=Ee(e,c,n,s,!0)),()=>n;if(c.length===0){if(n=K(e,n,s),i)return n}else l?n.length===0?Lt(e,c,s):ns(e,n,c):(n&&K(e),Lt(e,c));n=c}else if(t.nodeType){if(Array.isArray(n)){if(i)return n=K(e,n,s,t);K(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function st(e,t,n,s){let r=!1;for(let o=0,i=t.length;o<i;o++){let c=t[o],l=n&&n[e.length],f;if(!(c==null||c===!0||c===!1))if((f=typeof c)=="object"&&c.nodeType)e.push(c);else if(Array.isArray(c))r=st(e,c,l)||r;else if(f==="function")if(s){for(;typeof c=="function";)c=c();r=st(e,Array.isArray(c)?c:[c],Array.isArray(l)?l:[l])||r}else e.push(c),r=!0;else{const h=String(c);l&&l.nodeType===3&&l.data===h?e.push(l):e.push(document.createTextNode(h))}}return r}function Lt(e,t,n=null){for(let s=0,r=t.length;s<r;s++)e.insertBefore(t[s],n)}function K(e,t,n,s){if(n===void 0)return e.textContent="";const r=s||document.createTextNode("");if(t.length){let o=!1;for(let i=t.length-1;i>=0;i--){const c=t[i];if(r!==c){const l=c.parentNode===e;!o&&!i?l?e.replaceChild(r,c):e.insertBefore(r,n):l&&c.remove()}else o=!0}}else e.insertBefore(r,n);return[r]}const k=globalThis,Qt=k,dt=k.CSSStyleSheet,E=k.document,Jt=k.DocumentFragment,Z=k.Object,cs=k.Promise,F=k.Symbol,ls=k.queueMicrotask,Yt=Z.assign,gt=Z.entries,rt=Z.freeze,us=Z.fromEntries,fs=Z.groupBy,V=Array.isArray,Ae=Array.from,as=F.iterator,hs=JSON.stringify,ot=k.history,R=k.location,Zt=R.origin,ds=e=>new cs(e),gs=(e,t)=>e.then(t).catch(t),ps=(e,t,n)=>e.setAttribute(t,n),ms=(e,t)=>e.removeAttribute(t),it=e=>e.isConnected,Tt=()=>E.activeElement,Nt=E.documentElement,bs=e=>{for(const t of e)t()},pe=e=>E[e].bind(E),en=pe("createElement"),ws=pe("createElementNS"),ct=pe("createTextNode");pe("importNode");pe("createTreeWalker");const Le=Z.create.bind(null,null),Te=e=>e.length===1?e[0]:e,ee=(e,t=mt)=>e.bind(null,t()),tn=e=>{const t=e.getRootNode(),{nodeType:n}=t;return n===11||n===9?t:e.ownerDocument};function O(e){for(;typeof e=="function";)e=e();return e}const ys=e=>e,A=e=>typeof e=="function",Ss=e=>ne(e)&&"values"in e,te=e=>e==null,ne=e=>e!==null&&typeof e=="object",nn=e=>typeof e=="string",vs=e=>typeof e=="boolean",sn=()=>{},H=rt(Le()),rn=e=>e===void 0||O(e),G=(e,t)=>e.querySelector(t);function pt(e,t){const n=e.indexOf(t);return n!==-1&&e.splice(n,1),e}function on(e,t,n){for(;e;){if(n(e))return!0;e=e[t]}}class cn{constructor(t){const n=new t,s=n.get.bind(n),r=n.set.bind(n),o=n.has.bind(n);this.get=(i,c=void 0)=>{const l=s(i);if(l!==void 0)return l;if(c!==void 0)return c=c(i),r(i,c),c},this.set=r,this.has=o,this.delete=n.delete.bind(n)}*[F.iterator](){yield this.get,yield this.set,yield this.has,yield this.delete}}const ln=()=>new cn(WeakMap),mt=()=>new cn(Map),un=(e,t)=>e.classList.add(t),xs=(e,t)=>e.classList.remove(t),fn=e=>e.adoptedStyleSheets,Fe=(e,t)=>fn(e).push(t),$s=(e,t)=>pt(fn(e),t);function kt(e,t=[]){for(const n of t)n&&(n instanceof dt?Fe(e,n):Cs(e,n))}const Cs=ee((e,t,n)=>{e.get(n,s=>s.startsWith("http")?fetch(s).then(r=>r.text()).then(r=>Ne(r)):ds(r=>r(Ne(s)))).then(s=>Fe(t,s))}),Es=(e,...t)=>Ne(String.raw({raw:e},...t)),Ne=ee((e,t)=>e.get(t,n=>{const s=new dt;return s.replace(n),s})),As=(e,t,n={bubbles:!0,cancelable:!0,composed:!0})=>e.dispatchEvent(new CustomEvent(t,n)),Ls=e=>e.preventDefault(),an=F(),Ts=F(),hn=F(),dn=F(),be="http://www.w3.org/",X={__proto__:null,svg:be+"2000/svg",math:be+"1998/Math/MathML",html:be+"1999/xhtml",xlink:be+"1999/xlink"},se=0,U=1,ke=2;let a,u,$=null,P=null,me=0;class gn{owner;owned;cleanups;context;constructor(t,n){this.owner=t,this.context=t?.context,n&&Yt(this,n)}dispose(){let t;const{owned:n,cleanups:s}=this;if(n){for(t=n.length-1;t>=0;t--)n[t].dispose();n.length=0}if(s){for(t=s.length-1;t>=0;t--)s[t]();s.length=0}}}class bt extends gn{state=U;updatedAt=0;fn;sources;sourceSlots;constructor(t,n,s){super(t,s),this.fn=n,t&&(t.owned?t.owned.push(this):t.owned=[this])}update(){this.dispose();const t=me,n=a,s=u;u=a=this;try{this.fn()}catch(r){throw this.updatedAt=t+1,r}finally{a=n,u=s}this.updatedAt<=t&&(this.updatedAt=t)}dispose(){const{sources:t,sourceSlots:n}=this;if(t){let s,r,o,i,c;for(;t.length;)s=t.pop(),r=s.observers,o=n.pop(),r&&r.length&&(i=r.pop(),c=s.observerSlots.pop(),o<r.length&&(i.sourceSlots[c]=o,r[o]=i,s.observerSlots[o]=c))}super.dispose(),this.state=se}}class Ns extends bt{user=!0;constructor(t,n,s){super(t,n,s),P?P.push(this):mn(()=>this.update())}}class ks extends bt{constructor(t,n,s){super(t,n,s),mn(()=>this.update())}}class Ps extends bt{state=U;pure=!0;value;observers;observerSlots;constructor(t,n,s){return super(t,n,s),bn(this.read.bind(this))}read(){if(this.state)if(this.state===U)this.update();else{const t=$;$=null,D(()=>_e(this)),$=t}if(u){const t=this.observers?this.observers.length:0;u.sources?(u.sources.push(this),u.sourceSlots.push(t)):(u.sources=[this],u.sourceSlots=[t]),this.observers?(this.observers.push(u),this.observerSlots.push(u.sources.length-1)):(this.observers=[u],this.observerSlots=[u.sources.length-1])}return this.value}write(t){(this.equals===!1||!this.equals(this.value,t))&&(this.value=t,this.observers&&this.observers.length&&D(()=>{for(let n=0,s;n<this.observers.length;n++)s=this.observers[n],s.state===se&&(s.pure?$.push(s):P.push(s),s.observers&&wt(s)),s.state=U}))}equals(t,n){return t===n}update(){this.dispose();let t;const n=me,s=a,r=u;u=a=this;try{t=this.fn()}catch(o){throw this.state=U,this.owned&&(this.owned.forEach(i=>i.dispose()),this.owned.length=0),this.updatedAt=n+1,o}finally{a=s,u=r}this.updatedAt<=n&&(this.updatedAt!==0?this.write(t):this.value=t,this.updatedAt=n)}}class Ms{value;observers;observerSlots;constructor(t,n){this.value=t,n&&(Yt(this,n),this.save&&(this.prev=t)),this.read=bn(this.read.bind(this)),this.write=this.write.bind(this),this.update=this.update.bind(this)}read(){if(u){const t=this.observers?this.observers.length:0;u.sources?(u.sources.push(this),u.sourceSlots.push(t)):(u.sources=[this],u.sourceSlots=[t]),this.observers?(this.observers.push(u),this.observerSlots.push(u.sources.length-1)):(this.observers=[u],this.observerSlots=[u.sources.length-1])}return this.value}write(t){return this.equals===!1||!this.equals(this.value,t)?(this.save&&(this.prev=this.value),this.value=t,this.observers&&this.observers.length&&D(()=>{for(let n=0,s;n<this.observers.length;n++)s=this.observers[n],s.state===se&&(s.pure?$.push(s):P.push(s),s.observers&&wt(s)),s.state=U}),!0):!1}update(t){return A(t)&&(t=t(this.value)),this.write(t)}equals(t,n){return t===n}*[F.iterator](){yield this.read,yield this.write,yield this.update}}function pn(e,t=void 0){const n=a,s=u,r=new gn(a,t);a=r,u=void 0;try{return D(()=>e(r.dispose.bind(r)),!0)}finally{a=n,u=s}}function Ve(e,t=void 0){return new Ms(e,t)}function Pe(e,t=void 0){new Ns(a,e,t)}function Ws(e,t=void 0){return new ks(a,e,t)}function g(e,t=void 0){return new Ps(a,e,t)}const mn=D;function _s(e,t){const n=a,s=u;a=e,u=void 0;try{return D(t,!0)}catch(r){throw r}finally{a=n,u=s}}function Me(e){if(u===void 0)return e();const t=u;u=void 0;try{return e()}finally{u=t}}function M(e){return a&&(a.cleanups?a.cleanups.push(e):a.cleanups=[e]),e}function We(e){switch(e.state){case se:return;case ke:return _e(e)}const t=[];do e.state&&t.push(e),e=e.owner;while(e&&e.updatedAt<me);for(let n=t.length-1,s;n>=0;n--)switch(e=t[n],e.state){case U:{e.update();break}case ke:{s=$,$=null,D(()=>_e(e,t[0])),$=s;break}}}function D(e,t=!1){if($)return e();let n=!1;t||($=[]),P?n=!0:P=[],me++;try{const s=e();if($&&(Rs($),$=null),!n){const r=P;P=null,r.length&&D(()=>Os(r))}return s}catch(s){throw n||(P=null),$=null,s}}function Rs(e){for(let t=0;t<e.length;t++)We(e[t])}function Os(e){let t,n,s=0;for(t=0;t<e.length;t++)n=e[t],n.user?e[s++]=n:We(n);for(t=0;t<s;t++)We(e[t])}function _e(e,t){e.state=se;for(let n=0,s;n<e.sources.length;n++)if(s=e.sources[n],s.sources)switch(s.state){case U:{s!==t&&s.updatedAt<me&&We(s);break}case ke:{_e(s,t);break}}}function wt(e){for(let t=0,n;t<e.observers.length;t++)n=e.observers[t],n.state===se&&(n.state=ke,n.pure?$.push(n):P.push(n),n.observers&&wt(n))}function Is(e=void 0){const t=F();return zs.bind(null,t,e)}function zs(e,t,n,s){if(n===void 0)return a?.context&&a.context[e]!==void 0?a.context[e]:t;{let r;return Ws(()=>{a.context={...a.context,[e]:n},r=Me(s)}),r}}const Re=e=>{const t=a;return(...n)=>e&&_s(t,()=>e(...n))},Oe=e=>A(e)&&hn in e;function bn(e){return e[hn]=void 0,e}const z=(e,t)=>A(e)?Pe(()=>t(O(e))):t(e);function Us(e,t){if(A(e)){let n;Pe(()=>{const s=O(e);t(s,n),n=s})}else t(e)}function qs(e,t,n){const s=new Map,r=new Map;let o=0,i=[],c=[];function l(){for(let S=0;S<c.length;S++)c[S].dispose(!0);s.clear(),r.clear(),i.length=0,c.length=0}M(l);class f{constructor(N,L,ie,Ge){this.runId=-1,this.item=N,this.index=L,this.isDupe=Ge,this.disposer=void 0,this.nodes=pn(p=>(this.disposer=p,ie(N,L)))}get begin(){return this.nodes[0]}get end(){return this.nodes[this.nodes.length-1]}dispose(N){if(N===void 0)if(!this.isDupe)s.delete(this.item);else{const L=r.get(this.item);L.length===1?r.delete(this.item):pt(L,this)}this.disposer()}}function h(S){const N=S?(p,b)=>S(t(p,b),b):t,L=O(e)||[],ie=Ss(L)?L.entries():gt(L);o++,i=[];const Ge=c.length;for(const[p,b]of ie){let v=Ge?s.get(b):void 0;if(v===void 0)v=new f(b,p,N,!1),s.set(b,v);else if(v.runId===o){let m=r.get(b);m||(m=[],r.set(b,m));for(let w=0;w<m.length;w++)if(m[w].runId!==o){v=m[w];break}v.runId===o&&(v=new f(b,p,N,!0),m.push(v))}v.runId=o,v.index=p,i.push(v)}if(i.length===0)l();else for(let p=0;p<c.length;p++)c[p].runId!==o&&c[p].dispose();if(i.length>1&&c.length){const{a:p,b}=fs(i,(m,w)=>i[w]===c[w]?"a":"b");let v=b?.length;if(p&&b&&p.length&&b.length&&b.length<p.length&&b.every(m=>c.includes(m))){for(const m of b)for(const w of p)if(m.index===w.index-1){w.begin.before(...Ye(m)),v--;break}else if(m.index===w.index+1){w.end.after(...Ye(m)),v--;break}}if(v){let m=i[i.length-1];for(let w=i.length-1;w>0;w--){const Xe=i[w-1];m.begin.previousSibling!==Xe.end&&m.begin.before(...Ye(Xe)),m=Xe}}}return c=i,i.map(p=>p.nodes)}return h[dn]=void 0,h}function Ye(e){const{begin:t,end:n}=e,s=[t];let r=t;for(;r!==n;)r=r.nextSibling,s.push(r);return s}function lt(e){const t=A(e)?g(e):()=>e;return g(()=>ut(t()))}function ut(e){if(A(e))return ut(e());if(V(e)){const t=[];for(let n of e)n=ut(n),V(n)?t.push(...n):t.push(n);return t}return e}const wn=e=>A(e)&&an in e,Ds=e=>!Oe(e)&&(A(e)||!V(e)&&ne(e)&&!e.then);function yt(e){e=V(e)?Te(e):e;const t=V(e)?e.map(Pt):Pt(e);return V(e)?W((...n)=>t.map(s=>s(n))):W((...n)=>t(n))}const Pt=e=>A(e)?Oe(e)?t=>{const n=e();return A(n)?Oe(n)?n():Me(()=>n(...t)):n}:t=>Me(()=>e(...t)):()=>e;function W(e){return e[an]=void 0,e}function Ie(e,t,n){return e.addEventListener(t,n,!A(n)&&n),M(()=>Bs(e,t,n))}function Bs(e,t,n){return e.removeEventListener(t,n,!A(n)&&n),()=>Ie(e,t,n)}const Mt=ee((e,t)=>e.get(t,n=>"handleEvent"in n?{...n,handleEvent:Re(n.handleEvent.bind(n))}:Re(n)),ln);let ft,St;function yn(){St=[[],[],[],[],[],[]],ft=!1}yn();function re(e,t){ft||(ft=!0,ls(Fs)),St[e].push(Re(t))}function Fs(){const e=St;yn();for(const t of e)t.length&&bs(t)}const Sn=e=>re(0,e),Vs=e=>re(1,e),Hs=e=>re(2,e),js=e=>re(3,e),Ks=e=>re(4,e),Gs=e=>re(5,e),Xs=(e,t,n,s,r,o)=>Ie(e,r,n),Wt=ee((e,t)=>e.get(t,n=>n.startsWith("on")&&n.toLowerCase()in Qt?n.slice(2).toLowerCase():null)),vt=mt(),xt=mt(),oe=(e,t,n)=>{ze(vt,e,t,n)},j=(e,t,n)=>{ze(xt,e,t,n)},He=(e,t,n)=>{ze(vt,e,t,n),ze(xt,e,t,n)},ze=(e,t,n,s=!0)=>{e.set(t,s?(...r)=>Vs(()=>n(...r)):n)},Qs=(e,t,n,s,r,o)=>vn(e,r,n),vn=(e,t,n)=>z(n,s=>Q(e,t,s));function Q(e,t,n){te(n)?e[t]=null:e[t]=n}const Js=(e,t,n,s,r,o)=>Ys(e,r,n),Ys=(e,t,n,s)=>z(n,r=>xn(e,t,r,s));function xn(e,t,n,s){te(n)?s&&X[s]?e.removeAttributeNS(X[s],t):e.removeAttribute(t):s&&X[s]?e.setAttributeNS(X[s],t,n):e.setAttribute(t,n)}const _t=(e,t,n,s)=>z(n,r=>Zs(e,t,r,s)),Zs=(e,t,n,s)=>{ne(n)||vs(n)&&!t.includes("-")?Q(e,t,n):(xn(e,t,n,s),te(n)&&Q(e,t,n))},er=(e,t,n,s,r,o)=>tr(e,r,n),tr=(e,t,n)=>z(n,s=>nr(e,t,s)),nr=(e,t,n)=>n?e.setAttribute(t,""):e.removeAttribute(t),sr=(e,t,n,s)=>je(e.style,n),rr=(e,t,n,s,r,o)=>je(e.style,ne(n)?n:{[r]:n}),or=(e,t,n,s,r,o)=>je(e.style,{["--"+r]:n});function je(e,t){if(ne(t)){let s;for(s in t)ir(e,s,t[s]);return}const n=typeof t;if(n==="string"){e.cssText=t;return}if(n==="function"){z(t,s=>je(e,O(s)));return}}const ir=(e,t,n)=>z(n,s=>cr(e,t,s)),cr=(e,t,n)=>te(n)?e.removeProperty(t):e.setProperty(t,n),lr=(e,t,n,s)=>nn(n)?e.setAttribute("class",n):$t(e,n),ur=(e,t,n,s,r,o)=>A(n)?$n(e,r,n):$t(e,n);function $t(e,t){switch(typeof t){case"string":{Cn(e,t,!0);break}case"object":{let n;for(n in t)$n(e,n,t[n]);break}case"function":{z(t,n=>$t(e,n));break}}}const $n=(e,t,n)=>Us(n,(s,r)=>{!s&&!r||Cn(e,t,s)}),Cn=(e,t,n)=>n?un(e,...t.trim().split(/\s+/)):xs(e,t),fr=()=>crypto.getRandomValues(new BigUint64Array(1))[0].toString(36),ar=(e,t,n,s)=>hr(e,n),hr=ee((e,t,n)=>{un(t,e.get(n,s=>{const r="c"+fr();return Fe(tn(t),Ne(s.replace(/class/g,"."+r))),r}))}),dr=(e,t,n,s)=>Hs(()=>n(e)),gr=(e,t,n,s)=>js(()=>n(e)),pr=(e,t,n,s)=>M(()=>n(e));j("prop",Qs,!1);j("attr",Js,!1);j("bool",er,!1);j("on",Xs,!1);j("var",or,!1);for(const e of["value","textContent","innerText","innerHTML"])oe(e,vn,!1);oe("__dev",sn,!1);oe("xmlns",sn,!1);He("css",ar,!1);He("onMount",gr,!1);He("onUnmount",pr,!1);He("ref",dr,!1);oe("style",sr,!1);j("style",rr,!1);oe("class",lr,!1);j("class",ur,!1);function mr(e,t,n){for(const s in t)En(e,s,t[s],t);return e}function En(e,t,n,s,r){if(ne(n)&&"then"in n){n.then(Re(c=>En(e,t,O(c),s)));return}let o=vt.get(t);if(o){o(e,t,n,s);return}let i=Wt(t);if(i){Ie(e,i,Mt(n));return}if(t.includes(":")){const[c,l]=t.split(":");if(o=xt.get(c),o){o(e,t,n,s,l,c);return}if(i=Wt(c),i){Ie(e,i,Mt(n));return}Rt(e,s)?Q(e,t,n):_t(e,t,n,c);return}Rt(e,s)?Q(e,t,n):_t(e,t,n)}const Rt=(e,t,n)=>"is"in t||e.localName?.includes("-"),Ze=kn(),br=e=>e.children;function I(e,t){if(e===br)return t.children;rt(t);const n=An(e);return t===void 0?n:W(s=>n(s?rt({...t,...s}):t))}function An(e){if(wn(e))return e;switch(typeof e){case"string":return W(t=>yr(e,t));case"function":return Ts in e?W(t=>wr(e,t)):Oe(e)?W(()=>e):W(e);default:return e instanceof Node?W(t=>Ln(e,t)):W(()=>e)}}function wr(e,t){const n=new e;return n.ready&&Ks(()=>n.ready()),n.cleanup&&M(()=>n.cleanup()),n.render(t)}function yr(e,t){const n=t?.xmlns||X[e];return Sr(n,s=>Ln(s?ws(s,e):en(e),t),e)}function Sr(e,t,n){const s=Ze();return e&&e!==s?Ze(e,()=>t(e)):s&&n==="foreignObject"?Ze(X.html,()=>t(s)):t(s)}function Ln(e,t){return t&&mr(e,t),e}function T(e,t,n,s=void 0){switch(typeof t){case"string":case"number":return s instanceof Text?(s.nodeValue=t,s):we(e,ct(t),n);case"function":{if(wn(t))return T(e,Me(t),n);let r=[];return e=et(e,void 0,n),dn in t?(Pe(()=>{r=le(r,t(o=>{const i=et(e,void 0,!0),c=et(e,void 0,!0);return[i,T(c,o,!0),c]}))}),M(()=>{le(r),e.remove()}),[r,e]):(Pe(()=>{r=le(r,[T(e,t(),!0,r[0])])}),M(()=>{le(r),e.remove()}),[r,e])}case"object":{if(V(t))return t.length===1?T(e,t[0],n):t.map(r=>T(e,r,n));if(t instanceof Node)return t instanceof Jt?T(e,Ae(t.childNodes),n):we(e,t,n);if(t===null)return;if("then"in t){const[r,o]=Ve(void 0);return gs(t,c=>it(e)&&o(c)),T(e,r,n)}if(as in t)return T(e,Ae(t.values()),n);if(t instanceof dt){Sn(()=>{if(it(e)){const r=tn(e);Fe(r,t),M(()=>$s(r,t))}});return}return T(e,"toString"in t?t.toString():hs(t),n)}case"undefined":return;default:return we(e,ct(t.toString()),n)}}oe("children",(e,t,n)=>T(e,n),!1);const et=(e,t,n)=>we(e,ct(""),n),ce=E.head;function we(e,t,n){if(e===ce){const s=t.localName;let r;s==="title"?r=G(ce,"title"):s==="meta"?r=G(ce,'meta[name="'+t.getAttribute("name")+'"]')||G(ce,'meta[property="'+t.getAttribute("property")+'"]'):s==="link"&&t.rel==="canonical"&&(r=G(ce,'link[rel="canonical"]')),r?r.replaceWith(t):e.appendChild(t)}else n?e.before(t):e.appendChild(t);return t}function vr(e,t,n=H){const s=pn(r=>(Tn(e,t,n),r));return M(s),s}function Tn(e,t=E.body,n=H){n.clear&&t&&(t.textContent="");const s=T(t,Ds(e)?An(e):e,n.relative);return M(()=>le([s].flat(1/0))),s}const xr=e=>Te(Nn(e).childNodes);function Nn(e){const t=new Jt;return T(t,e),t}function kn(e=void 0){const t=Is(e);return t.Provider=n=>t(n.value,()=>xr(n.children)),t}function le(e=[],t=[]){t=t.flat(1/0);for(let n=0,s;n<e.length;n++)s=e[n],s&&(t.length===0||!t.includes(s))&&s.remove();return t}const $r=e=>e.replace(/-([a-z0-9])/g,t=>t[1].toUpperCase());function Cr(e,t,n){customElements.get(e)===void 0&&customElements.define(e,t,n)}class Er extends HTMLElement{constructor(){super();const t=this.attachShadow({mode:"open"}),n=this.constructor;kt(t,n.baseStyleSheets),kt(t,n.styleSheets)}query(t){return G(this,t)}set html(t){nn(t)?this.shadowRoot.innerHTML=t:this.shadowRoot.replaceChildren(Nn(I(t||"slot")))}set hidden(t){z(t,n=>{n?ps(this,"hidden",""):ms(this,"hidden")})}emit(t,n){As(this,t,n)}hasSlot(t){return this.query(`:scope [slot="${t}"]`)}}function Pn(e){class t extends Er{static styleSheets=[Es`
				:host {
					display: contents;
				}
			`];set when(r){z(r,o=>this.html=o?"<slot/>":"")}}const n="pota-collapse";return Cr(n,t),I(n,{when:e.when,children:e.children})}const Mn=e=>I(e.component,{...e,component:void 0}),Ar=e=>qs(()=>(e.restoreFocus&&Lr(),e.each),yt(e.children));let tt;function Lr(){if(!tt){tt=!0;const e=Tt(),t=Nt.scrollTop;Sn(()=>{tt=!1,e&&e!==Tt()&&it(e)&&e.focus(),Nt.scrollTop=t})}}function Wn(e){Tn(e.children,e.mount)}const Tr=e=>I(Wn,{mount:E.head,children:e.children});function Nr(e){e.scrollTop=0,e.scrollIntoView(!0)}const kr=()=>Ct(R.hash);function Ct(e){if(e)try{const t=G(E,e);if(t)return Nr(t),!0}catch{}return!1}function Pr(e){Ct(e)||_n()}const _n=()=>Qt.scrollTo({top:0,behavior:"auto"}),Mr=k.encodeURIComponent;function Wr(e){try{return decodeURIComponent(e)}catch{return e}}const _r=e=>e[0]==="/"||e[0]==="#"||/^http/.test(e),Rr=e=>/^http/.test(e)&&!(e+"/").startsWith(origin+"/"),Or=e=>!_r(e),Rn=(e,t)=>t?e.replace(/\:([a-z0-9_\-]+)/gi,(n,s)=>t[s]!==void 0?Mr(t[s]):n):e;function On(e=H){const[t,n,s]=Ve([]);return{base:"",href:()=>"",parent:void 0,show:()=>!1,params:()=>()=>H,scroll:[],addChildren:r=>{s(o=>(o.push(r),[...o]))},removeChildren:r=>{s(o=>(pt(o,r),[...o]))},noneMatch:g(()=>t().length&&t().every(r=>!r.show())),...e}}const ae=kn(On()),[Ke,In]=Ve(R,{equals:!1}),Ot=g(()=>Ke().pathname),Ir=g(()=>Ke().search),zn=g(()=>Ke().href),It=g(()=>zn().endsWith("#")?"#":Ke().hash),Un={href:zn,pathname:Ot,hash:It,path:g(()=>Ot()+It()),query:g(()=>{const e=Ir(),t=Le(),n=new URL(Zt+"/"+e).searchParams;for(const[s,r]of n.entries())t[s]=r;return t}),params:()=>{const e=[];on(ae(),"parent",n=>{e.push(n.params)});const t=Le();for(const n of e)for(const[s,r]of gt(n()()||H))t[s]=r!==void 0?Wr(r):r;return t}};let zt=[];async function qn(e){const t=[];for(const n of zt)if(e.indexOf(n.href)!==0){if(!await n.callback().catch(()=>!1))return!1}else t.push(n);return zt=t,!0}async function zr(e,t=H){if(R.href!==e&&await qn(e)){const n=()=>Ur(e,t);E.startViewTransition&&R.href.replace(/#.*/,"")!==e.replace(/#.*/,"")?E.startViewTransition(n):n()}}function Ur(e,t){t.replace?ot.replaceState(null,"",e):ot.pushState(null,"",e),In(R),rn(t.scroll)&&Pr(R.hash)}let Ut=!1;function Dn(){Ut||(Ut=!0,E.addEventListener("click",qr),addEventListener("hashchange",qt),addEventListener("popstate",qt))}async function qt(){const e=E.title;E.title=e+" ",E.title=e,await qn(R.href)?In(R):ot.pushState(null,"",Un.href())}function qr(e){if(e.defaultPrevented||e.button!==0||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;const t=e.composedPath().find(n=>n instanceof HTMLAnchorElement);!t||!t.href||t.download||t.target||!t.href.startsWith("http")||Rr(t.href)||t.rel&&t.rel.split(/\s/).includes("external")||(Ls(e),zr(t.href,{replace:t.replace}))}function Et(e){const t=yt(e.children),n=g(()=>O(e.when)),s=g(()=>!!n()),r=te(e.fallback)?void 0:g(()=>lt(e.fallback));return g(()=>s()?t(n):r)}function Dr(e){kr()||on(e,"parent",t=>{if(t.scroll){for(const n of t.scroll)if(Ct(n))return!0}})||_n()}function Bn(e){Dn();const t=ae(),n=t.base+Rn(e.path===void 0?"(|#.*)$":e.path.replace("$","(|#.*)$").replace(/^#/,"/#"),e.params),s=new RegExp("^"+n.replace(/\:([a-z0-9_\-]+)/gi,"(?<$1>[^/#]+)"));let r="";const[o,i]=Ve(()=>H),c=g(()=>{const f=Un.path();return s.test(f)?(i(()=>s.exec(f).groups),r===""&&(r=f.replace(f.replace(s,""),""),r=Zt+(r[0]!=="/"?"/":"")+r),Gs(()=>Dr(l)),!0):!1}),l=On({base:n,href:()=>r,params:o,scroll:e.scroll,parent:t,show:c});return t.addChildren(l),M(()=>t.removeChildren(l)),I(ae.Provider,{value:l,children:I(Mn,{component:e.collapse?Pn:Et,when:()=>c()&&rn(e.when),fallback:e.fallback,children:e.children})})}Bn.Default=e=>{const t=ae();return I(Et,{when:t.noneMatch,children:e.children})};function Br(e){Dn();let t=Rn(e.href,e.params);const n=ae().href();return t=!Or(t[0])||!n?t:n.includes("/#")?n+t:new URL(t,n).href,I("a",{...e,href:t,params:void 0})}function Fr(e){const t=lt(()=>e.children),n=te(e.fallback)?g(()=>{const i=t().find(c=>!("when"in c));return i&&i.children}):g(()=>lt(e.fallback)),s=g(()=>t().find(i=>!!O(i.when))),r=g(()=>s()&&O(s().when)),o=g(()=>s()&&yt(s().children));return g(()=>s()?o()(r):n)}const Vr=ys,Hr=us(gt({RouterA:Br,Collapse:Pn,Dynamic:Mn,For:Ar,Head:Tr,Match:Vr,Portal:Wn,Router:Bn,Show:Et,Switch:Fr}).map(([e,t])=>[e.toLowerCase(),t])),at="pota",Dt="<pota></pota>",jr=ee((e,t)=>e.get(t,n=>{const s=en("template");return s.innerHTML=n.join(Dt).replaceAll(`"${Dt}"`,`"${at}"`).replace(/<(br|hr)\s*\/\s*>/g,"<$1>").replace(/<([a-z-]+)([^/>]*)\/\s*>/gi,"<$1 $2></$1>"),s.content}),ln);function Kr(){function e(t,...n){const s=jr(t);let r=0;function o(i){if(i.nodeType===1){const c=i.localName;if(c===at)return n[r++];const l=Le();for(let{name:f,value:h}of i.attributes)h===at&&(h=n[r++]),f[0]==="."?l["prop:"+$r(f.slice(1))]=h:f[0]==="?"?l["bool:"+f.slice(1)]=h:f[0]==="@"?l["on:"+f.slice(1)]=h:l[f]=h;return i.childNodes.length&&(l.children=Te(Ae(i.childNodes).map(o))),I(e.components[c]||c,l)}else return i.cloneNode()}return Te(Ae(s.childNodes).map(o))}return e.components={...Hr},e.define=t=>{let n;for(n in t)e.components[n.toLowerCase()]=t[n]},e}const Ue=Kr(),Gr=({tree:e})=>Ue`
    <Switch fallback="${Ue`
        <mrow>
          <CanonicalExpression tree="${e.left}" />
          <mo>+</mo>
          <CanonicalExpression tree="${e.right}" />
        </mrow>`}"
    >
      <Match when="${e.value===1}">
        <mn>1</mn>
      </Match>
      <Match when="${e.value==="x"}">
        <mi>x</mi>
      </Match>
      <Match when="${e.inverse}">
        <mfrac>
          <mn>1</mn>
          <CanonicalExpression tree="${e.inverse}" />
        </mfrac>
      </Match>
    </Switch>`,Xr=({tree:e})=>(Ue.define({CanonicalExpression:Gr}),Ue`
    <math class="equation" display="block">
      <mrow>
        <mi>x</mi>
        <mo>=</mo>
        <CanonicalExpression tree="${e}" />
      </mrow>
    </math>`);var Qr=ge('<div class="one-block block">'),Jr=ge('<div class="x-block block">'),Yr=ge('<div class="inverse-block block">'),Zr=ge('<div class="plus-block block">');const eo=e=>{const t=()=>({height:`${e.size}rem`,width:`${e.size}rem`});return J(()=>e.setWidth&&e.setWidth(e.size)),(()=>{var n=Qr();return q(s=>Be(n,t(),s)),n})()},to=e=>{const t=()=>e.rotated?"#eeb4a2":"#824346",n=()=>e.x*e.size,s=()=>({height:`${e.size}rem`,width:`${n()}rem`,"background-color":t()});return J(()=>e.setWidth&&e.setWidth(n())),(()=>{var r=Jr();return q(o=>Be(r,s(),o)),r})()},no=e=>{let[t,n]=ve(0);const s=()=>e.size/t(),r=()=>e.size*s();J(()=>console.log("inv width",r())),J(()=>e.setWidth&&e.setWidth(r()));const o=()=>({transform:`rotate(-90deg) translate(-${e.size}rem) scale(${s()})`,"transform-origin":"top left"});return(()=>{var i=Yr();return fe(i,C(qe,{get tree(){return e.inverse},get rotated(){return!e.rotated},get size(){return e.size},get x(){return e.x},setWidth:n})),q(c=>Be(i,o(),c)),i})()},so=e=>{let[t,n]=ve(0),[s,r]=ve(0);J(()=>{console.log("left:",t(),"right:",s()),e.setWidth&&e.setWidth(t()+s())});const o=()=>({width:`${t()+s()}rem`});return(()=>{var i=Zr();return fe(i,C(qe,{get tree(){return e.left},get x(){return e.x},get rotated(){return e.rotated},get size(){return e.size},setWidth:n}),null),fe(i,C(qe,{get tree(){return e.right},get x(){return e.x},get rotated(){return e.rotated},get size(){return e.size},setWidth:r}),null),q(c=>Be(i,o(),c)),i})()},qe=e=>C(ts,{get fallback(){return C(so,{get left(){return e.tree.left},get right(){return e.tree.right},get rotated(){return e.rotated},get size(){return e.size},get x(){return e.x},get setWidth(){return e.setWidth}})},get children(){return[C(Je,{get when(){return e.tree.value===1},get children(){return C(eo,{get size(){return e.size},get setWidth(){return e.setWidth}})}}),C(Je,{get when(){return e.tree.value==="x"},get children(){return C(to,{get rotated(){return e.rotated},get size(){return e.size},get x(){return e.x},get setWidth(){return e.setWidth}})}}),C(Je,{get when(){return e.tree.inverse},get children(){return C(no,{get inverse(){return e.tree.inverse},get rotated(){return e.rotated},get size(){return e.size},get x(){return e.x},get setWidth(){return e.setWidth}})}})]}});Vn("1/(1+x)+1/(1+x+1/x)");const Fn={value:"x"},ro={inverse:Fn},oo={left:{value:1},right:Fn},io={left:{value:1},right:{left:{value:"x"},right:ro}},co={left:{left:{value:1},right:{inverse:oo}},right:{inverse:io}};var lo=ge("<div class=proportion-display><input type=range id=x name=volume min=1 max=4 step=0.01><div id=equation-root></div><div class=diagram>");const[Bt,uo]=ve(1.5),fo=({target:e})=>{uo(e.value)},ao=e=>{const t=n=>{};return Gn(()=>{vr(()=>Xr({tree:e.tree}),document.getElementById("equation-root"))}),(()=>{var n=lo(),s=n.firstChild,r=s.nextSibling,o=r.nextSibling;return s.$$input=fo,fe(o,C(qe,{get tree(){return e.tree},get x(){return Bt()},rotated:!0,get size(){return e.scale},setWidth:t})),q(()=>s.value=Bt()),n})()},ho=()=>C(ao,{tree:co,scale:12}),go=document.getElementById("root");ss(()=>C(ho,{}),go);rs(["input"]);
